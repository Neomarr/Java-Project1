import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
public class PaymentPage extends JFrame {
   private static final String CASH = "Cash on Delivery";
   private static final String CARD = "Credit Card";
   private static final String BANK = "Bank Transfer";
   private static final String PAYMAYA = "PayMaya";
   private double totalAmount;
   private JComboBox<String> paymentMethodCombo;
   private JPanel paymentDetailsPanel;
   private JTabbedPane tabbedPane;
  
   private JTextArea receiptArea;
   private JTextArea billArea;
   private JTextField cardNumberField, expiryField, cvvField;
   private JTextField bankNameField, accountNumberField;
   private JTextField paymayaNumberField;
   private JTextField nameField, addressField, contactField;
   public PaymentPage() {
       setTitle("Air Supplies - Payment Page");
       setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
       setSize(900, 600);
       setLocationRelativeTo(null);
       JPanel mainPanel = new JPanel(new BorderLayout(10, 10));
       mainPanel.setBackground(new Color(0xFFF5E4));
       setContentPane(mainPanel);
       // TOP PANEL (Title)
       JPanel topPanel = new JPanel();
       topPanel.setBackground(new Color(0x6A9C89));
       topPanel.setPreferredSize(new Dimension(100, 70));
       topPanel.setLayout(new FlowLayout(FlowLayout.CENTER, 0, 20));
       JLabel titleLabel = new JLabel("Air Supplies");
       titleLabel.setFont(new Font("SansSerif", Font.BOLD, 24));
       titleLabel.setForeground(Color.WHITE);
       topPanel.add(titleLabel);
       mainPanel.add(topPanel, BorderLayout.NORTH);
      
       tabbedPane = new JTabbedPane();
       tabbedPane.setFont(new Font("SansSerif", Font.BOLD, 16));
       mainPanel.add(tabbedPane, BorderLayout.CENTER);
       // Payment Tab Content
       JPanel paymentTab = new JPanel(new BorderLayout(10, 10));
       paymentTab.setOpaque(false);
       // Payment Method Selector
       JPanel paymentSelectorPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
       paymentMethodCombo = new JComboBox<>(new String[]{CASH, CARD, BANK, PAYMAYA});
       paymentMethodCombo.addActionListener(e -> updatePaymentDetails());
       paymentSelectorPanel.add(new JLabel("Select Payment Method:"));
       paymentSelectorPanel.add(paymentMethodCombo);
       paymentTab.add(paymentSelectorPanel, BorderLayout.NORTH);
       // Payment Details Card Panel
       paymentDetailsPanel = new JPanel(new CardLayout());
       paymentDetailsPanel.add(getCashPanel(), CASH);
       paymentDetailsPanel.add(getCardPanel(), CARD);
       paymentDetailsPanel.add(getBankPanel(), BANK);
       paymentDetailsPanel.add(getPayMayaPanel(), PAYMAYA);
       paymentTab.add(paymentDetailsPanel, BorderLayout.CENTER);
       // Confirm Payment Button
       JButton confirmBtn = new JButton("Confirm Payment");
       confirmBtn.addActionListener(e -> confirmPayment());
       JPanel btnPanel = new JPanel();
       btnPanel.add(confirmBtn);
       paymentTab.add(btnPanel, BorderLayout.SOUTH);
       tabbedPane.addTab("Payment", paymentTab);
       // Receipt Tab Content
       JPanel receiptTab = new JPanel(new BorderLayout(10, 10));
       receiptTab.setBackground(new Color(0x6A9C89));
       receiptTab.setForeground(Color.WHITE);
       // Receipt title
       JLabel receiptTitle = new JLabel("Receipt and Delivery Information");
       receiptTitle.setFont(new Font("SansSerif", Font.BOLD, 20));
       receiptTitle.setForeground(Color.WHITE);
       receiptTitle.setHorizontalAlignment(SwingConstants.CENTER);
       receiptTitle.setBorder(BorderFactory.createEmptyBorder(20, 0, 10, 0));
       receiptTab.add(receiptTitle, BorderLayout.NORTH);
       // Receipt & Bill Text Areas
       receiptArea = new JTextArea(10, 25);
       receiptArea.setEditable(false);
       receiptArea.setFont(new Font("Monospaced", Font.PLAIN, 12));
       receiptArea.setBackground(new Color(0xD0E6D7));
       receiptArea.setBorder(BorderFactory.createTitledBorder("Receipt"));
       billArea = new JTextArea(10, 25);
       billArea.setEditable(false);
       billArea.setFont(new Font("Monospaced", Font.PLAIN, 12));
       billArea.setBackground(new Color(0xD0E6D7));
       billArea.setBorder(BorderFactory.createTitledBorder("Bill"));
       JPanel receiptPanels = new JPanel();
       receiptPanels.setOpaque(false);
       receiptPanels.setLayout(new GridLayout(1, 2, 10, 10));
       receiptPanels.add(new JScrollPane(receiptArea));
       receiptPanels.add(new JScrollPane(billArea));
       receiptTab.add(receiptPanels, BorderLayout.CENTER);
       // Delivery info input panel
       JPanel deliveryPanel = new JPanel(new GridLayout(3, 2, 5, 5));
       deliveryPanel.setOpaque(false);
       deliveryPanel.setBorder(BorderFactory.createTitledBorder("Delivery Information"));
       deliveryPanel.add(new JLabel("Name:"));
       nameField = new JTextField(20);
       deliveryPanel.add(nameField);
       deliveryPanel.add(new JLabel("Address:"));
       addressField = new JTextField(20);
       deliveryPanel.add(addressField);
       deliveryPanel.add(new JLabel("Contact Number:"));
       contactField = new JTextField(20);
       deliveryPanel.add(contactField);
       receiptTab.add(deliveryPanel, BorderLayout.SOUTH);
       //Exit and Shop Again
       JPanel receiptBtnPanel = new JPanel();
       JButton exitBtn = new JButton("Exit");
       JButton shopAgainBtn = new JButton("Shop Again");
       exitBtn.addActionListener(e -> System.exit(0));
       shopAgainBtn.addActionListener(e -> {
          
           resetAllFields();
           tabbedPane.setSelectedIndex(0);
       });
       receiptBtnPanel.add(shopAgainBtn);
       receiptBtnPanel.add(exitBtn);
       receiptTab.add(receiptBtnPanel, BorderLayout.PAGE_END);
       tabbedPane.addTab("Receipt", receiptTab);
       updatePaymentDetails();
       setVisible(true);
   }
  
   public PaymentPage(double totalAmount) {
       this.totalAmount = totalAmount;
      
   }
   private void updatePaymentDetails() {
       String selected = (String) paymentMethodCombo.getSelectedItem();
       CardLayout cl = (CardLayout) paymentDetailsPanel.getLayout();
       cl.show(paymentDetailsPanel, selected);
   }
   private JPanel getCashPanel() {
       JPanel panel = new JPanel();
       panel.add(new JLabel("Cash on Delivery selected. Please prepare cash."));
       return panel;
   }
   private JPanel getCardPanel() {
       JPanel panel = new JPanel(new GridLayout(3, 2, 5, 5));
       panel.add(new JLabel("Card Number:"));
       cardNumberField = new JTextField(15);
       panel.add(cardNumberField);
       panel.add(new JLabel("Expiry Date:"));
       expiryField = new JTextField(7);
       panel.add(expiryField);
       panel.add(new JLabel("CVV:"));
       cvvField = new JTextField(4);
       panel.add(cvvField);
       return panel;
   }
   private JPanel getBankPanel() {
       JPanel panel = new JPanel(new GridLayout(2, 2, 5, 5));
       panel.add(new JLabel("Bank Name:"));
       bankNameField = new JTextField(15);
       panel.add(bankNameField);
       panel.add(new JLabel("Account Number:"));
       accountNumberField = new JTextField(15);
       panel.add(accountNumberField);
       return panel;
   }
   private JPanel getPayMayaPanel() {
       JPanel panel = new JPanel(new GridLayout(1, 2, 5, 5));
       panel.add(new JLabel("PayMaya Number:"));
       paymayaNumberField = new JTextField(15);
       panel.add(paymayaNumberField);
       return panel;
   }
   private void confirmPayment() {
       // Collect payment details
       String method = (String) paymentMethodCombo.getSelectedItem();
       String paymentInfo = "";
       String billText = String.format("Item(s): Art Supplies\nTotal Amount: ₱%.2f", totalAmount);
       switch (method) {
           case CASH:
               paymentInfo = "Payment Method: Cash on Delivery";
               break;
           case CARD:
               paymentInfo = String.format("Payment Method: Credit Card%nCard Number: %s%nExpiry: %s%nCVV: %s",
                       cardNumberField.getText(), expiryField.getText(), cvvField.getText());
               break;
           case BANK:
               paymentInfo = String.format("Payment Method: Bank Transfer%nBank Name: %s%nAccount Number: %s",
                       bankNameField.getText(), accountNumberField.getText());
               break;
           case PAYMAYA:
               paymentInfo = String.format("Payment Method: PayMaya%nPayMaya Number: %s",
                       paymayaNumberField.getText());
               break;
       }
      
       String receiptText = "Thank you for your purchase!\n\n" + paymentInfo;
       String billText1 = String.format("Item(s): Art Supplies\nTotal Amount: ₱%.2f", totalAmount);
       receiptArea.setText(receiptText);
       billArea.setText(billText1);
      
       tabbedPane.setSelectedIndex(1);
   }
   private void resetAllFields() {
       cardNumberField.setText("");
       expiryField.setText("");
       cvvField.setText("");
       bankNameField.setText("");
       accountNumberField.setText("");
       paymayaNumberField.setText("");
       nameField.setText("");
       addressField.setText("");
       contactField.setText("");
       paymentMethodCombo.setSelectedIndex(0);
       updatePaymentDetails();
       receiptArea.setText("");
       billArea.setText("");
   }
   public static void main(String[] args) {
       SwingUtilities.invokeLater(PaymentPage::new);
   }
}
